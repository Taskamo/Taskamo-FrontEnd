(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[917],{3053:function(e,t,n){Promise.resolve().then(n.bind(n,93886))},47821:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(24214);let s=r.Z.create({baseURL:"http://api.taskamo.com/api"});s.interceptors.request.use(e=>{let t=function(e){let t=e+"=",n=decodeURIComponent(document.cookie).split(";");for(let e=0;e<n.length;e++){let r=n[e];for(;" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}("token");return e.headers&&t&&(e.headers.authorization="Bearer ".concat(t)),e}),s.interceptors.response.use(e=>e,e=>(console.log(e.request.responseURL,e.request.responseURL.search("/login")),401===e.response.status&&-1===e.request.responseURL.search("/login")&&window.location.replace("/login"),Promise.reject(e)));var a=s},63332:function(e,t,n){"use strict";n.d(t,{Aj:function(){return a},CC:function(){return l},KH:function(){return h},U8:function(){return d},UE:function(){return o},VH:function(){return m},WI:function(){return s},Yz:function(){return g},g4:function(){return p},hD:function(){return c},sS:function(){return u},wA:function(){return i},wD:function(){return f}});var r=n(47821);let s=()=>r.Z.get("/event").then(e=>e.data),a=e=>r.Z.post("/login",e).then(e=>e.data),i=e=>r.Z.post("/register",e).then(e=>e.data),o=()=>r.Z.get("/todo").then(e=>e.data),l=e=>{let{id:t,data:n}=e;return r.Z.put("/todo/".concat(t),n).then(e=>e.data)},u=e=>r.Z.delete("/todo/".concat(e)).then(e=>e.data),c=e=>r.Z.post("/todo",e).then(e=>e.data),d=e=>r.Z.post("/event",e).then(e=>e.data),h=e=>r.Z.delete("/event/".concat(e)).then(e=>e.data),m=e=>{let{id:t,data:n}=e;return r.Z.put("/event/".concat(t),n).then(e=>e.data)},f=()=>r.Z.get("/me").then(e=>e.data),p=e=>r.Z.get("/timeline?date=".concat(e)).then(e=>e.data),g=e=>r.Z.post("/timeline",e).then(e=>e.data)},93886:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(9268),s=n(80735),a=n(7186),i=n.n(a);n(45928),n(57233);var o=n(74824),l=n(63332),u=n(86006),c=n(95730),d=n(21628),h=n(59065),m=n(33030),f=n(45138),p=n(1777),g=n(12763),x=n(39402),Z=n(50946);let j=(0,s.Zt)(i());function w(){let e=i()().format("Y-M-D"),[t,n]=(0,u.useState)([]),[a,w]=(0,u.useState)(!1),[D,v]=d.ZP.useMessage(),[_]=h.Z.useForm(),C=(0,o.useQuery)({queryFn:()=>(0,l.g4)(e),queryKey:"timeline"}),{mutateAsync:T}=(0,o.useMutation)({mutationFn:e=>{let{createData:t}=e;return(0,l.Yz)(t)},onSuccess(e,t,n){D.open({type:"success",content:"Timeline Create Successfuly"}),w(!1),_.resetFields(),setTimeout(()=>{C.refetch()},1e3)}});(0,u.useEffect)(()=>{var e,t;console.log(C.data),n(null==C?void 0:null===(e=C.data)||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.map(e=>({title:e.title,desc:e.description,start:new Date(new Date(e.start_at).getUTCFullYear(),new Date(e.start_at).getUTCMonth(),new Date(e.start_at).getUTCDate(),new Date(e.start_at).getUTCHours(),new Date(e.start_at).getUTCMinutes(),new Date(e.start_at).getUTCSeconds(),new Date(e.start_at).getUTCMilliseconds()),end:new Date(new Date(e.end_at).getUTCFullYear(),new Date(e.end_at).getUTCMonth(),new Date(e.end_at).getUTCDate(),new Date(e.end_at).getUTCHours(),new Date(e.end_at).getUTCMinutes(),new Date(e.end_at).getUTCSeconds(),new Date(e.end_at).getUTCMilliseconds())})))},[C.data]);let U=e=>{let{title:t,description:n,date_start_at:r,time_start_at:s,date_end_at:a,time_end_at:o}=e,l=i()(r).set({hour:s.hour(),minute:s.minute(),second:s.second()}).format("YYYY-MM-DD HH:mm:ss"),u=i()(a).set({hour:o.hour(),minute:o.minute(),second:o.second()}).format("YYYY-MM-DD HH:mm:ss");T({createData:{title:t,description:n,start_at:l,end_at:u}})};return(0,r.jsxs)(r.Fragment,{children:[v,(0,r.jsx)(m.Z,{onClick:()=>{w(!0)},type:"primary",rootClassName:"!w-14 !h-14",icon:(0,r.jsx)(c.Z,{}),tooltip:(0,r.jsx)("div",{children:"Add New Timeline"})}),(0,r.jsx)(f.Z,{title:"Create Timeline",onCancel:()=>w(!1),open:a,footer:!1,children:(0,r.jsxs)(h.Z,{layout:"vertical",form:_,name:"control-hooks",onFinish:e=>U(e),style:{maxWidth:600},children:[(0,r.jsx)(h.Z.Item,{name:"id",className:"hidden",children:(0,r.jsx)(p.Z,{})}),(0,r.jsx)(h.Z.Item,{name:"title",label:"Title",rules:[{required:!0}],children:(0,r.jsx)(p.Z,{})}),(0,r.jsx)(h.Z.Item,{name:"description",label:"Description",rules:[{required:!0}],children:(0,r.jsx)(p.Z,{})}),(0,r.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,r.jsx)(h.Z.Item,{name:"date_start_at",label:"Date start at",rules:[{required:!0}],children:(0,r.jsx)(g.Z,{})}),(0,r.jsx)(h.Z.Item,{name:"time_start_at",label:"Time start at",rules:[{required:!0}],children:(0,r.jsx)(x.Z,{})})]}),(0,r.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,r.jsx)(h.Z.Item,{name:"date_end_at",label:"Date end at",rules:[{required:!0}],children:(0,r.jsx)(g.Z,{})}),(0,r.jsx)(h.Z.Item,{name:"time_end_at",label:"Time end at",rules:[{required:!0}],children:(0,r.jsx)(x.Z,{})})]}),(0,r.jsx)(h.Z.Item,{children:(0,r.jsxs)("div",{className:"flex flex-row gap-2 pt-10",children:[(0,r.jsx)(Z.ZP,{type:"primary",htmlType:"submit",children:"Submit"}),(0,r.jsx)(Z.ZP,{htmlType:"button",onClick:()=>_.resetFields(),children:"Reset"})]})})]})}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)(s.f,{events:t,localizer:j,startAccessor:"start",endAccessor:"end",style:{height:"calc(100vh - 150px)"},view:"day"})})]})}},95730:function(e,t,n){"use strict";var r=n(9268);n(86006);let s=e=>(0,r.jsx)("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{d:"M6 12h12M12 18V6",stroke:"#fff",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})});t.Z=s}},function(e){e.O(0,[635,243,534,168,794,341,334,824,582,214,464,402,407,644,30,763,164,667,139,744],function(){return e(e.s=3053)}),_N_E=e.O()}]);