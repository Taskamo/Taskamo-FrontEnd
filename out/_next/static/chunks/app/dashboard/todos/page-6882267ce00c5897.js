(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[805],{92951:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(8683),i=n.n(r),o=n(86006),a=n(79746),l=n(40650),s=n(70721),d=n(98663);let c=e=>{let{componentCls:t,sizePaddingEdgeHorizontal:n,colorSplit:r,lineWidth:i}=e;return{[t]:Object.assign(Object.assign({},(0,d.Wf)(e)),{borderBlockStart:`${i}px solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",margin:`0 ${e.dividerVerticalGutterMargin}px`,verticalAlign:"middle",borderTop:0,borderInlineStart:`${i}px solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${e.dividerHorizontalGutterMargin}px 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${e.dividerHorizontalWithTextGutterMargin}px 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${i}px solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-left`]:{"&::before":{width:"5%"},"&::after":{width:"95%"}},[`&-horizontal${t}-with-text-right`]:{"&::before":{width:"95%"},"&::after":{width:"5%"}},[`${t}-inner-text`]:{display:"inline-block",padding:"0 1em"},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${i}px 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStart:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-left${t}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${t}-with-text-right${t}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:n}}})}};var u=(0,l.Z)("Divider",e=>{let t=(0,s.TS)(e,{dividerVerticalGutterMargin:e.marginXS,dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG});return[c(t)]},{sizePaddingEdgeHorizontal:0}),h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let p=e=>{let{getPrefixCls:t,direction:n}=o.useContext(a.E_),{prefixCls:r,type:l="horizontal",orientation:s="center",orientationMargin:d,className:c,rootClassName:p,children:f,dashed:g,plain:x}=e,m=h(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain"]),b=t("divider",r),[v,j]=u(b),w=s.length>0?`-${s}`:s,y=!!f,Z="left"===s&&null!=d,$="right"===s&&null!=d,k=i()(b,j,`${b}-${l}`,{[`${b}-with-text`]:y,[`${b}-with-text${w}`]:y,[`${b}-dashed`]:!!g,[`${b}-plain`]:!!x,[`${b}-rtl`]:"rtl"===n,[`${b}-no-default-orientation-margin-left`]:Z,[`${b}-no-default-orientation-margin-right`]:$},c,p),S=Object.assign(Object.assign({},Z&&{marginLeft:d}),$&&{marginRight:d});return v(o.createElement("div",Object.assign({className:k},m,{role:"separator"}),f&&"vertical"!==l&&o.createElement("span",{className:`${b}-inner-text`,style:S},f)))};var f=p},39913:function(e,t,n){Promise.resolve().then(n.bind(n,71207))},47821:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(24214);let i=r.Z.create({baseURL:"http://api.taskamo.com/api"});i.interceptors.request.use(e=>{let t=function(e){let t=e+"=",n=decodeURIComponent(document.cookie).split(";");for(let e=0;e<n.length;e++){let r=n[e];for(;" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}("token");return e.headers&&t&&(e.headers.authorization="Bearer ".concat(t)),e}),i.interceptors.response.use(e=>e,e=>(console.log(e.request.responseURL,e.request.responseURL.search("/login")),401===e.response.status&&-1===e.request.responseURL.search("/login")&&window.location.replace("/login"),Promise.reject(e)));var o=i},63332:function(e,t,n){"use strict";n.d(t,{Aj:function(){return o},CC:function(){return s},KH:function(){return h},U8:function(){return u},UE:function(){return l},VH:function(){return p},WI:function(){return i},Yz:function(){return x},g4:function(){return g},hD:function(){return c},sS:function(){return d},wA:function(){return a},wD:function(){return f}});var r=n(47821);let i=()=>r.Z.get("/event").then(e=>e.data),o=e=>r.Z.post("/login",e).then(e=>e.data),a=e=>r.Z.post("/register",e).then(e=>e.data),l=()=>r.Z.get("/todo").then(e=>e.data),s=e=>{let{id:t,data:n}=e;return r.Z.put("/todo/".concat(t),n).then(e=>e.data)},d=e=>r.Z.delete("/todo/".concat(e)).then(e=>e.data),c=e=>r.Z.post("/todo",e).then(e=>e.data),u=e=>r.Z.post("/event",e).then(e=>e.data),h=e=>r.Z.delete("/event/".concat(e)).then(e=>e.data),p=e=>{let{id:t,data:n}=e;return r.Z.put("/event/".concat(t),n).then(e=>e.data)},f=()=>r.Z.get("/me").then(e=>e.data),g=e=>r.Z.get("/timeline?date=".concat(e)).then(e=>e.data),x=e=>r.Z.post("/timeline",e).then(e=>e.data)},71207:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(9268),i=n(63332),o=n(95730),a=n(21628),l=n(59065),s=n(50946),d=n(33030),c=n(45138),u=n(1777),h=n(92951),p=n(86006),f=n(74824);function g(){var e,t,n,g,x,m;let[b,v]=a.ZP.useMessage(),{data:j,refetch:w}=(0,f.useQuery)({queryFn:()=>(0,i.UE)()}),[y]=l.Z.useForm(),[Z,$]=(0,p.useState)(!1),[k,S]=(0,p.useState)("create"),{mutateAsync:N}=(0,f.useMutation)({mutationFn:e=>{let{id:t,updateData:n}=e;return(0,i.CC)({id:t,data:n})},onSuccess(e,t,n){b.open({type:"success",content:"Task Update Successfuly"}),$(!1),y.resetFields(),setTimeout(()=>{w()},1e3)}}),{mutateAsync:C}=(0,f.useMutation)({mutationFn:e=>(0,i.sS)(e),onSuccess(e,t,n){b.open({type:"success",content:e.data}),setTimeout(()=>{w()},1e3)}}),{mutateAsync:z}=(0,f.useMutation)({mutationFn:e=>(0,i.hD)(e),onSuccess(e,t,n){b.open({type:"success",content:"Task Create Successfuly"}),$(!1),y.resetFields(),setTimeout(()=>{w()},1e3)}}),F=(e,t)=>{let{title:n,description:r,id:i,status:o="todo"}=e;"create"===t?z({title:n,description:r,status:o}):N({id:i,updateData:{title:n,description:r,status:o}})},O=()=>{y.resetFields()},T=e=>{"create"===e?S("create"):S("update"),$(!0)},A=()=>{$(!1)},E=e=>{let{id:t,title:n,description:i,type:o,deleteFn:a,updateFn:l}=e;return(0,r.jsxs)("div",{className:"bg-boxgroundA100 py-2 px-4 rounded-lg gap-2 flex flex-col",children:[(0,r.jsx)("h5",{className:"text-xl font-bold",children:n}),(0,r.jsx)("p",{children:i}),(0,r.jsxs)("div",{className:"flex flex-row gap-2 pt-4",children:["todo"!==o&&(0,r.jsx)(s.ZP,{type:"default",onClick:()=>l({id:t,updateData:{status:"doing"===o?"todo":"doing",title:n,description:i}}),children:"Previous"}),"done"!==o&&(0,r.jsx)(s.ZP,{type:"default",onClick:()=>l({id:t,updateData:{status:"todo"===o?"doing":"done",title:n,description:i}}),children:"Next"}),(0,r.jsx)(s.ZP,{onClick:()=>a(t),type:"link",danger:!0,className:"ml-auto",children:"Delete"}),(0,r.jsx)(s.ZP,{onClick:()=>{y.setFieldsValue({title:n,description:i,id:t,status:o}),T("update")},type:"ghost",children:"Edit"})]})]})};return(0,r.jsxs)(r.Fragment,{children:[v,(0,r.jsx)(d.Z,{onClick:()=>T("create"),type:"primary",rootClassName:"!w-14 !h-14",icon:(0,r.jsx)(o.Z,{}),tooltip:(0,r.jsx)("div",{children:"Add New Task"})}),(0,r.jsx)(c.Z,{title:"".concat("create"===k?"Add New":"Update"," Task"),onCancel:A,open:Z,footer:!1,children:(0,r.jsxs)(l.Z,{layout:"vertical",form:y,name:"control-hooks",onFinish:e=>F(e,k),style:{maxWidth:600},children:[(0,r.jsx)(l.Z.Item,{name:"id",className:"hidden",children:(0,r.jsx)(u.Z,{})}),(0,r.jsx)(l.Z.Item,{name:"status",className:"hidden",children:(0,r.jsx)(u.Z,{defaultValue:"todo"})}),(0,r.jsx)(l.Z.Item,{name:"title",label:"Title",rules:[{required:!0}],children:(0,r.jsx)(u.Z,{})}),(0,r.jsx)(l.Z.Item,{name:"description",label:"Description",rules:[{required:!0}],children:(0,r.jsx)(u.Z,{})}),(0,r.jsx)(l.Z.Item,{children:(0,r.jsxs)("div",{className:"flex flex-row gap-2 pt-10",children:[(0,r.jsx)(s.ZP,{type:"primary",htmlType:"submit",children:"Submit"}),(0,r.jsx)(s.ZP,{htmlType:"button",onClick:O,children:"Reset"})]})})]})}),(0,r.jsxs)("section",{className:"grid grid-cols-3 gap-4 bg-boxgroundA700 rounded-lg p-4 h-full",children:[(0,r.jsxs)("div",{className:"p-3 h-full bg-boxgroundA100 rounded-lg",children:[(0,r.jsx)("h6",{children:"To-Do"}),(0,r.jsx)(h.Z,{className:"bg-white"}),(0,r.jsx)("div",{className:"flex flex-col gap-2",children:null===(e=null==j?void 0:null===(t=j.data)||void 0===t?void 0:t.filter(e=>"todo"===e.status))||void 0===e?void 0:e.map(e=>(0,r.jsx)(E,{updateFn:N,id:e.id,deleteFn:C,type:"todo",title:e.title,description:e.description}))})]}),(0,r.jsxs)("div",{className:"p-3 h-full bg-boxgroundA100 rounded-lg",children:[(0,r.jsx)("h6",{children:"Doing"}),(0,r.jsx)(h.Z,{className:"bg-white"}),(0,r.jsx)("div",{className:"flex flex-col gap-2",children:null===(n=null==j?void 0:null===(g=j.data)||void 0===g?void 0:g.filter(e=>"doing"===e.status))||void 0===n?void 0:n.map(e=>(0,r.jsx)(E,{updateFn:N,id:e.id,deleteFn:C,type:"doing",title:e.title,description:e.description}))})]}),(0,r.jsxs)("div",{className:"p-3 h-full bg-boxgroundA100 rounded-lg",children:[(0,r.jsx)("h6",{children:"Done"}),(0,r.jsx)(h.Z,{className:"bg-white"}),(0,r.jsx)("div",{className:"flex flex-col gap-2",children:null===(x=null==j?void 0:null===(m=j.data)||void 0===m?void 0:m.filter(e=>"done"===e.status))||void 0===x?void 0:x.map(e=>(0,r.jsx)(E,{updateFn:N,id:e.id,deleteFn:C,type:"done",title:e.title,description:e.description}))})]})]})]})}},95730:function(e,t,n){"use strict";var r=n(9268);n(86006);let i=e=>(0,r.jsx)("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{d:"M6 12h12M12 18V6",stroke:"#fff",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})});t.Z=i}},function(e){e.O(0,[168,794,341,334,824,582,214,464,402,644,30,667,139,744],function(){return e(e.s=39913)}),_N_E=e.O()}]);