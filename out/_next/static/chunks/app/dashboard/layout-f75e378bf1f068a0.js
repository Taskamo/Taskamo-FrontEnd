(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{75013:function(e,t,n){Promise.resolve().then(n.bind(n,38003))},47821:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(24214);let s=a.Z.create({baseURL:"http://api.taskamo.com/api"});s.interceptors.request.use(e=>{let t=function(e){let t=e+"=",n=decodeURIComponent(document.cookie).split(";");for(let e=0;e<n.length;e++){let a=n[e];for(;" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""}("token");return e.headers&&t&&(e.headers.authorization="Bearer ".concat(t)),e}),s.interceptors.response.use(e=>e,e=>(console.log(e.request.responseURL,e.request.responseURL.search("/login")),401===e.response.status&&-1===e.request.responseURL.search("/login")&&window.location.replace("/login"),Promise.reject(e)));var r=s},63332:function(e,t,n){"use strict";n.d(t,{Aj:function(){return r},CC:function(){return o},KH:function(){return h},U8:function(){return u},UE:function(){return i},VH:function(){return m},WI:function(){return s},Yz:function(){return x},g4:function(){return f},hD:function(){return d},sS:function(){return c},wA:function(){return l},wD:function(){return p}});var a=n(47821);let s=()=>a.Z.get("/event").then(e=>e.data),r=e=>a.Z.post("/login",e).then(e=>e.data),l=e=>a.Z.post("/register",e).then(e=>e.data),i=()=>a.Z.get("/todo").then(e=>e.data),o=e=>{let{id:t,data:n}=e;return a.Z.put("/todo/".concat(t),n).then(e=>e.data)},c=e=>a.Z.delete("/todo/".concat(e)).then(e=>e.data),d=e=>a.Z.post("/todo",e).then(e=>e.data),u=e=>a.Z.post("/event",e).then(e=>e.data),h=e=>a.Z.delete("/event/".concat(e)).then(e=>e.data),m=e=>{let{id:t,data:n}=e;return a.Z.put("/event/".concat(t),n).then(e=>e.data)},p=()=>a.Z.get("/me").then(e=>e.data),f=e=>a.Z.get("/timeline?date=".concat(e)).then(e=>e.data),x=e=>a.Z.post("/timeline",e).then(e=>e.data)},38003:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var a=n(9268),s=n(63332),r=n(79927),l=n(21628),i=n(45138),o=n(53195),c=n(59065),d=n(1777),u=n(50946),h=n(29274),m=n(32263),p=n(86006),f=n(74824);n(5181);var x=n(75710),g=n(42781),j=n(47821);let b=e=>{let t="image/jpeg"===e.type||"image/png"===e.type;t||l.ZP.error("You can only upload JPG/PNG file!");let n=e.size/1024/1024<2;return n||l.ZP.error("Image must smaller than 2MB!"),t&&n},v=(e,t)=>{let n=new FileReader;n.addEventListener("load",()=>t(n.result)),n.readAsDataURL(e)},A=()=>{let[e,t]=(0,p.useState)(!1),[n,l]=(0,p.useState)(!1),[A,N]=(0,p.useState)(),[Z,w]=(0,p.useState)(),{data:y,refetch:U}=(0,f.useQuery)({queryFn:()=>(0,s.wD)()}),[k,C]=(0,p.useState)(new Date);(0,p.useEffect)(()=>{let e=setInterval(()=>{C(new Date)},1e3);return()=>{clearInterval(e)}},[]);let D=(0,p.useMemo)(()=>{let e=k.getHours(),t=k.getMinutes();return"".concat(e,":").concat(t<10?"0".concat(t):t)},[k]),_=()=>{t(!1)},R=(0,a.jsxs)("div",{children:[n?(0,a.jsx)(x.Z,{}):(0,a.jsx)(g.Z,{}),(0,a.jsx)("div",{style:{marginTop:8},children:"Upload"})]}),S=e=>{if("uploading"===e.file.status){l(!0);return}"done"===e.file.status&&(v(e.file.originFileObj,e=>{l(!1),w(e)}),N(e.file))},I=e=>{let n=new FormData;n.append("profile",A.originFileObj),n.append("name",e.name),n.append("_method","PUT"),j.Z.post("/profile",n).then(e=>{t(!1),U()})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.Z,{open:e,title:"Update your profile",onCancel:_,footer:null,children:[(0,a.jsx)(o.Z,{name:"avatar",listType:"picture-circle",className:"avatar-uploader",showUploadList:!1,beforeUpload:b,onChange:S,children:Z||(null==y?void 0:y.profile)?(0,a.jsx)("img",{src:Z||(null==y?void 0:y.profile),alt:"avatar",style:{width:"100%"}}):R}),(0,a.jsxs)(c.Z,{name:"basic",onFinish:I,autoComplete:"off",children:[(0,a.jsx)(c.Z.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name!"}],children:(0,a.jsx)(d.Z,{})}),(0,a.jsx)(c.Z.Item,{children:(0,a.jsx)(u.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]})]}),(0,a.jsxs)("nav",{className:"navbar",children:[(0,a.jsxs)("section",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:String(new Date().getFullYear())}),(0,a.jsx)("p",{className:"text-sm",children:String(new Date().toLocaleString("en-US",{month:"short",day:"numeric"}))})]}),(0,a.jsx)("section",{children:(0,a.jsx)("p",{className:"text-xl ",children:D})}),(0,a.jsxs)("section",{className:"flex gap-4 items-center",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("p",{className:"text-sm text-right",children:null==y?void 0:y.name}),(0,a.jsx)("p",{className:"text-sm text-right",children:null==y?void 0:y.email})]}),(0,a.jsx)(h.Z,{offset:[4,24],count:(0,a.jsx)(r.Z,{className:"!scale-50 !stroke-primaryA500"}),children:(null==y?void 0:y.profile)?(0,a.jsx)(m.C,{onClick:()=>t(!0),className:"cursor-pointer",shape:"square",src:"http://api.taskamo.com/profile/".concat(null==y?void 0:y.profile),size:"large"}):(0,a.jsx)(m.C,{onClick:()=>t(!0),className:"cursor-pointer",shape:"square",size:"large"})})]})]})]})};var N=n(76394),Z=n.n(N),w={src:"/_next/static/media/taskamo-logo.ac8b7d01.png",height:746,width:3690,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAATUlEQVR4nGNUXn8rnOXty++caVEf/3m6MTD8/CHIyMjw7T8D428GBob3jGrzjhr85+Di4eosVfkvLfuY4dcvJkYGhlv/GRllGRj+fwMAkHMaArKzlI8AAAAASUVORK5CYII=",blurWidth:8,blurHeight:2},y=n(92951),U=n(18217),k=n(35846),C=n.n(k);n(61925);var D=n(56008);let _=[{label:"Dashboard",icon:U.SK8,path:"/dashboard"},{label:"Timeline",icon:U.UFw,path:"/dashboard/timeline"},{label:"Event",icon:U.AUO,path:"/dashboard/events"},{label:"Todo",icon:U.RNV,path:"/dashboard/todos"},{label:"Calendar",icon:U.faS,path:"/dashboard/calendar"}],R=()=>{let e=(0,D.usePathname)();return(0,a.jsx)("aside",{className:"sidebar",children:(0,a.jsxs)("div",{className:"flex flex-col items-center h-full",children:[(0,a.jsx)(Z(),{width:150,alt:"taskamo",src:w}),(0,a.jsx)(y.Z,{className:"bg-boxgroundA800"}),(0,a.jsxs)("div",{className:"w-full h-full flex flex-col",children:[_.map(t=>(0,a.jsx)(C(),{href:t.path,children:(0,a.jsxs)("section",{className:"sidebar__items ".concat(e===t.path&&"sidebar__items--active"),children:[(0,a.jsx)(t.icon,{}),t.label]})})),(0,a.jsxs)("section",{className:"sidebar__items sidebar__items--logout",children:[(0,a.jsx)(U.RDe,{}),"Logout"]})]})]})})},S=e=>{let{children:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("main",{className:"hidden lg:flex p-6 min-h-screen h-full gap-6",children:[(0,a.jsx)(R,{}),(0,a.jsxs)("section",{className:"w-full flex flex-col gap-6",children:[(0,a.jsx)(A,{}),t]})]}),(0,a.jsxs)("main",{className:"flex flex-col items-center justify-center lg:hidden p-6 min-h-screen h-full gap-6",children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-center",children:"Get our app to enjoy all of its features! Download now and start using it on your mobile device."}),(0,a.jsx)(u.ZP,{type:"primary",onClick:()=>window.location.href="/taskamo.apk",children:"Download Now"})]})]})};var I=S},5181:function(){},61925:function(){}},function(e){e.O(0,[168,794,341,334,824,582,214,464,402,644,846,629,217,667,139,744],function(){return e(e.s=75013)}),_N_E=e.O()}]);