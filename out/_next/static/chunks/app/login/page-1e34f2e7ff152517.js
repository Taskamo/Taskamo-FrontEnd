(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{80544:function(e,t,n){Promise.resolve().then(n.bind(n,21195))},47821:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(24214);let s=r.Z.create({baseURL:"http://api.taskamo.com/api"});s.interceptors.request.use(e=>{let t=function(e){let t=e+"=",n=decodeURIComponent(document.cookie).split(";");for(let e=0;e<n.length;e++){let r=n[e];for(;" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}("token");return e.headers&&t&&(e.headers.authorization="Bearer ".concat(t)),e}),s.interceptors.response.use(e=>e,e=>(console.log(e.request.responseURL,e.request.responseURL.search("/login")),401===e.response.status&&-1===e.request.responseURL.search("/login")&&window.location.replace("/login"),Promise.reject(e)));var o=s},63332:function(e,t,n){"use strict";n.d(t,{Aj:function(){return o},CC:function(){return l},KH:function(){return h},U8:function(){return d},UE:function(){return i},VH:function(){return m},WI:function(){return s},Yz:function(){return g},g4:function(){return p},hD:function(){return u},sS:function(){return c},wA:function(){return a},wD:function(){return f}});var r=n(47821);let s=()=>r.Z.get("/event").then(e=>e.data),o=e=>r.Z.post("/login",e).then(e=>e.data),a=e=>r.Z.post("/register",e).then(e=>e.data),i=()=>r.Z.get("/todo").then(e=>e.data),l=e=>{let{id:t,data:n}=e;return r.Z.put("/todo/".concat(t),n).then(e=>e.data)},c=e=>r.Z.delete("/todo/".concat(e)).then(e=>e.data),u=e=>r.Z.post("/todo",e).then(e=>e.data),d=e=>r.Z.post("/event",e).then(e=>e.data),h=e=>r.Z.delete("/event/".concat(e)).then(e=>e.data),m=e=>{let{id:t,data:n}=e;return r.Z.put("/event/".concat(t),n).then(e=>e.data)},f=()=>r.Z.get("/me").then(e=>e.data),p=e=>r.Z.get("/timeline?date=".concat(e)).then(e=>e.data),g=e=>r.Z.post("/timeline",e).then(e=>e.data)},21195:function(e,t,n){"use strict";n.r(t);var r=n(9268),s=n(92951),o=n(59065),a=n(1777),i=n(50946),l=n(33356),c=n(21384),u=n(63332),d=n(74824),h=n(72592),m=n(56008);let f=()=>{let[e,t]=(0,h.Z)(["token"]),n=(0,m.useRouter)(),{mutate:f}=(0,d.useMutation)(e=>(0,u.Aj)(e)),p=e=>{let r={email:e.email,password:e.password};f(r,{onSuccess(e){t("token",e.data.token),n.replace("/dashboard")},onError(e){console.log(r)}})};return(0,r.jsx)("div",{className:"h-screen w-full flex flex-row justify-center items-center",children:(0,r.jsxs)("div",{className:"max-w-lg w-full",children:[(0,r.jsx)("h1",{className:"text-4xl",children:"Login"}),(0,r.jsx)(s.Z,{className:"border-white"}),(0,r.jsxs)(o.Z,{name:"normal_login",className:"login-form",onFinish:p,children:[(0,r.jsx)(o.Z.Item,{name:"email",rules:[{required:!0,message:"Please input your Email!"}],children:(0,r.jsx)(a.Z,{size:"large",prefix:(0,r.jsx)(l.Z,{className:"site-form-item-icon"}),placeholder:"Email"})}),(0,r.jsx)(o.Z.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:(0,r.jsx)(a.Z,{size:"large",prefix:(0,r.jsx)(c.Z,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),(0,r.jsx)(o.Z.Item,{children:(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)(i.ZP,{size:"large",type:"primary",htmlType:"submit",className:"login-form-button",children:"Login"}),(0,r.jsx)(i.ZP,{size:"large",type:"ghost",className:"login-form-button",children:"Register"})]})})]})]})})};t.default=f}},function(e){e.O(0,[168,794,341,334,824,582,214,464,532,667,139,744],function(){return e(e.s=80544)}),_N_E=e.O()}]);